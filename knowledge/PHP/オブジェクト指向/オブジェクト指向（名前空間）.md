# 名前空間
PHP5.3から出来た、クラスをディレクトリ構造のように階層的に分類することが出来る仕組み

ディレクトリ構造のように同じクラス名を定義できる。

呼び出す際には、**フルパス**で呼び出すか、事前に**use**で宣言してクラス名で呼び出す

※下記、コード記述参照

同じクラス名を呼ぶ場合、**「as」**で別名をつけられる

通常のクラスは、全てグローバル空間に定義されている。

グローバル空間のクラス名を呼び出す場合、

１）　クラス名

２）　\クラス名

で、呼べる。　\ は、「グローバル空間」という意味。

useで名前空間を指定している場合、「クラス名」「\クラス名」は全く、違う意味となる。


## 出来た、背景
以前は、名前空間なしではPHPの標準クラスと同じ名前のクラスは作れないため、

違う名前にするしかなく、既存のクラス名にプレフィックスをつけ長くしたものが多かった。

大人数で開発をする場合、同じクラス名をつけてしまい、名前衝突してしまう場合があるため、

今までは、コミュニケーションを取りながら開発をし、プレフィックスをつけ名前を長くしていた。

その結果、クラス名が無駄に長くなっていた。

## 名前空間の使い方

### 定義方法
```php
<?php

namespace 名前空間名;
clas Login
{
}
```

### フルパスでの使い方
```php
$login = new \名前空間名\Login();
```

### あらかじめ宣言する使い方
```php
use 名前空間名\Login;
$login = new Login();
```

おすすめの使い方は**「あらかじめ宣言する使い方」**

## 更に、同じクラス名を使いたい場合は、下記で記述
```php
use 名前空間名１\Login as 名前空間名１Login;　 //asは「別名」（sql文の意味と一緒）
use 名前空間名２\Login as 名前空間名２Login;
$login = new 名前空間名１Login();
```

## 注意点-グローバル空間とクラス名-
```php
use 名前空間名;
$変数１ = new \Login(); // 「\は、グローバル空間の」という意味となり、グローバル空間のloginクラスの呼び出し
$変数１ = new Login();  // \名前空間名\loginのクラス名の呼び出し

```
### これの何が危険なのかというと・・・

名前空間では**「Exception(例外処理)」**に注意！！

```php
<?php 
namespace 名前空間名;
class Login
{
  try{
  } catch (Exception $e){　　// \\\ 名前空間名\Exception の呼び出しを行っている
  }
  
}
```

このまま、記述してしまうと「Exception」自体が『\名前空間名\Exception』という形で呼んでいる事になり、

そんな物は存在しないため、エラーとなってしまう。

が、しかし・・・通常、この例外処理に移行する機会が少ないため、

運用を行う中で、なかなか、エラーになっているか気づきづらい。

ため、名前空間をしようする際には、注意して使用する。











